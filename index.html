<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Mina's Finance Assistant</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>

/* ================= THEME ================= */

:root{
  --bg:#fdf6ff;
  --card:#ffffff;
  --text:#3a3a3a;

  --primary:#ffb6c9;
  --secondary:#cde7ff;
  --accent:#d7ffd9;

  --nav:#ffffffcc;
}

body.dark{
  --bg:#1e1e2f;
  --card:#2b2b3d;
  --text:#f1f1f1;

  --primary:#ff8ac2;
  --secondary:#6ca0ff;
  --accent:#5fd4a3;

  --nav:#2b2b3dcc;
}

body{
  margin:0;
  font-family:"Poppins",sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:0.4s;
}

/* ================= LANGUAGE SWITCH BUTTON ================= */

.lang-switch{
  position: fixed;
  top: 20px;
  left: 20px;
  display: flex;
  gap: 6px;
  z-index: 1000; /* selalu di atas halaman */
}

.lang-switch button{
  padding:6px 10px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  font-weight:600;
  background: var(--primary); /* bisa ikut tema pastel */
  color: white;
}
  
/* ================= PAGE ================= */

.page{
  display:none;
  min-height:100vh;
  padding:20px;
  text-align:center;
  animation:fade 0.4s;
}

.page.active{display:block;}

@keyframes fade{
  from{opacity:0; transform:translateY(20px)}
  to{opacity:1; transform:translateY(0)}
}

.center{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:80vh;
}

/* ================= CARD ================= */

.card{
  background:var(--card);
  padding:15px;
  border-radius:20px;
  margin:10px auto;
  max-width:500px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  border:2px solid var(--secondary);
}

/* ================= BUTTON ================= */

button{
  border:none;
  padding:10px 16px;
  border-radius:20px;
  cursor:pointer;
  margin:5px;
  font-weight:600;
  color:white;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
}

/* ================= INPUT ================= */

input,select{
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  margin:5px;
}

/* ================= NAVBAR ================= */

.nav{
  position:fixed;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  background:var(--nav);
  backdrop-filter:blur(12px);
  padding:12px 18px;
  border-radius:30px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  display:flex;
  gap:10px;
}

/* ================= ICON GRID ================= */

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:15px;
  max-width:600px;
  margin:auto;
}

.icon{
  background:var(--card);
  padding:20px;
  border-radius:20px;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
  border:2px solid var(--secondary);
}

/* ================= PROGRESS ================= */

.progress{
  height:20px;
  background:#ddd;
  border-radius:20px;
  overflow:hidden;
  margin-top:10px;
}

.bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--primary),var(--accent));
}

/* ================= TABLE ================= */

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  border:1px solid #ccc;
  padding:6px;
  font-size:14px;
}

/* ================= MINA PET ================= */

.mina{
  position:fixed;
  right:20px;
  bottom:120px;
  width:120px;
  cursor:pointer;
  animation:float 3s infinite;
}

@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
  100%{transform:translateY(0)}
}
/* ================= RESPONSIVE ================= */

@media(max-width:600px){

  .mina{
  position: relative;
  width: 180px;
  margin: auto;
}

  .bubble{
    right:110px;
  }

}

 /* FLOAT lembut - Home */
@keyframes float{
  0%,100%{ transform: translateY(0);}
  50%{ transform: translateY(-6px);}
}

/* WIGGLE kiri-kanan - Menu */
@keyframes wiggle{
  0%,100%{ transform: rotate(0deg);}
  25%{ transform: rotate(5deg);}
  75%{ transform: rotate(-5deg);}
}

/* JUMP kecil - Savings */
@keyframes jump{
  0%,100%{ transform: translateY(0);}
  50%{ transform: translateY(-12px);}
}

/* SHAKE horizontal - Debts */
@keyframes shake{
  0%,100%{ transform: translateX(0);}
  25%{ transform: translateX(-5px);}
  75%{ transform: translateX(5px);}
}

/* TILT - Planner */
@keyframes tilt{
  0%,100%{ transform: rotate(0deg);}
  50%{ transform: rotate(8deg);}
}

/* Kucing */
.cat{
  width: 120px;
  cursor: pointer;
  animation: float 3s ease-in-out infinite;
}

/* Container Mina */
#mina-container{
  position: fixed;
  right: 20px;
  bottom: 110px;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 9999;
}

/* Bubble */
.chat-bubble{
  position: absolute;
  bottom: 115%; /* posisi di atas kucing */
  left: 50%;
  transform: translateX(-50%) scale(0.8);

  background: var(--card);
  padding: 10px 14px;
  border-radius: 16px;
  font-size: 14px;
  white-space: nowrap;

  box-shadow: 0 4px 12px rgba(0,0,0,0.15);

  opacity: 0;
  animation: bubbleFade 0.35s ease forwards;
}

/* Ekor bubble */
.chat-bubble::after{
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);

  border-width: 10px;
  border-style: solid;
  border-color: var(--card) transparent transparent transparent;
}

/* Animasi muncul */
@keyframes bubbleFade{
  from{
    opacity: 0;
    transform: translateX(-50%) scale(0.7);
  }
  to{
    opacity: 1;
    transform: translateX(-50%) scale(1);
  }
}

@media(max-width:600px){

  #mina-container{
    right: 12px;
    bottom: 100px;
  }

  .cat{
    width: 90px;
  }

  .chat-bubble{
    font-size: 12px;
    padding: 8px 10px;
  }
}

</style>
</head>
<body>

<!-- LANGUAGE SWITCH -->
<div class="lang-switch">
  <button onclick="setLang('en')">ENG</button>
  <button onclick="setLang('id')">IND</button>
</div>

<!-- MINA PET + BUBBLE -->
<div id="mina-container">
  <div id="bubble" class="chat-bubble">Hi, I'm Mina! üê±</div>
  <img id="mina-img" src="home-cat.png" class="cat">
</div>

<!-- HALAMAN -->
<div id="home" class="page active">
  <div class="center">
    <h1 id="homeTitle">Mina's Finance Assistant üê±üí∞</h1>
    <p id="homeDesc">Hi, I'm Mina! Your cute finance helper ‚ú®</p>
    <button id="startBtn" onclick="show('menu')">Let's Start ‚ú®</button>
    <button onclick="theme()">Theme</button>
  </div>
</div>

<div id="menu" class="page">
  <h2 id="menuTitle">Choose Menu</h2>
  <div class="grid">
    <div class="icon" onclick="show('save1')">
      üí∞<br><span id="menuSavings">Savings</span><br><small id="menuSavingsSub">Save Money</small>
    </div>
    <div class="icon" onclick="show('debts1')">
      üìí<br><span id="menuDebts">Debts</span><br><small id="menuDebtsSub">Manage Debts</small>
    </div>
    <div class="icon" onclick="show('planner1')">
      üìä<br><span id="menuPlanner">Money Planner</span><br><small id="menuPlannerSub">Plan your Money</small>
    </div>
  </div>
</div>

<!-- DEBTS -->
<div class="icon" onclick="show('debts')">
<h2>Debts</h2>
<div class="card">Coming Soon ‚ú®</div>
</div>

<!-- PLANNER -->
<div class="icon" onclick="show('debts')">
<h2>Money Planner</h2>
<div class="card">Coming Soon ‚ú®</div>
</div>

<!-- CREATE SAVING -->
<div id="save1" class="page">
<h2>Create Savings</h2>

<div class="card">

<input id="title" placeholder="Savings title"><br>
<input id="target" placeholder="Target amount"><br>

Days per week:
<select id="days">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
</select><br>

<button onclick="createSaving()">Create</button>

</div>

</div>

<!-- LIST -->
<div id="save2" class="page">

<h2>Your Savings</h2>
<div id="list"></div>

</div>

<!-- DETAIL -->
<div id="save3" class="page">

<h2 id="stitle"></h2>

<div class="card">

<input id="amount" placeholder="Amount"><br>

<button onclick="add(true)">‚ûï Save</button>
<button onclick="add(false)">‚ûñ Take</button>

<h3>Total: Rp <span id="total">0</span></h3>

<div class="progress">
<div class="bar" id="bar"></div>
</div>

</div>

<div class="card">

<table>

<thead>
<tr>
<th>Date</th>
<th>Income</th>
<th>Expense</th>
<th>Balance</th>
</tr>
</thead>

<tbody id="tbody"></tbody>

</table>

</div>

</div>

<!-- NAV -->
<div class="nav">
<button onclick="show('home')">Home</button>
<button onclick="show('menu')">Menu</button>
</div>

<script>

/* PAGE */

const langData = {
  en:{
    homeTitle: "Mina's Finance Assistant üê±üí∞",
    homeDesc: "Hi, I'm Mina! Your cute finance helper ‚ú®",
    startBtn: "Let's Start ‚ú®",
    menuTitle: "Choose Menu",
    savings: "Savings",
    savingsSub: "Save Money",
    debts: "Debts",
    debtsSub: "Manage Debts",
    planner: "Money Planner",
    plannerSub: "Plan your Money",
    createSavings: "Create Savings",
    savingsTitle: "Savings title",
    targetAmount: "Target amount",
    daysPerWeek: "Days per week:",
    createBtn: "Create",
    addSave: "‚ûï Save",
    addTake: "‚ûñ Take",
    totalText: "Total: Rp",
    bubbleHome: "Hi, I'm Mina üê±",
    bubbleMenu: "Let's get started!",
    bubbleSavings: "Time to save üí∞",
    bubbleDebts: "Manage your debts üìí",
    bubblePlanner: "Plan your money üìä"
  },
  id:{
    homeTitle: "Asisten Keuangan Mina üê±üí∞",
    homeDesc: "Hai, aku Mina! Asisten keuangan lucu kamu ‚ú®",
    startBtn: "Mulai ‚ú®",
    menuTitle: "Pilih Menu",
    savings: "Tabungan",
    savingsSub: "Menabung",
    debts: "Utang Piutang",
    debtsSub: "Kelola Utang",
    planner: "Perencana Uang",
    plannerSub: "Rencanakan Uang",
    createSavings: "Buat Tabungan",
    savingsTitle: "Judul Tabungan",
    targetAmount: "Jumlah Target",
    daysPerWeek: "Hari per minggu:",
    createBtn: "Buat",
    addSave: "‚ûï Tambah",
    addTake: "‚ûñ Ambil",
    totalText: "Total: Rp",
    bubbleHome: "Hai, aku Mina üê±",
    bubbleMenu: "Ayo mulai!",
    bubbleSavings: "Saatnya menabung üí∞",
    bubbleDebts: "Kelola utangmu üìí",
    bubblePlanner: "Rencanakan uangmu üìä"
  }
};

let currentLang = localStorage.getItem("lang") || 'en';
  
function show(id){

  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  const bubble = document.getElementById("bubble");
  const mina = document.getElementById("mina-img");

  if(!bubble || !mina) return;

  if(id === "home"){
    bubble.innerText = langData[currentLang].bubbleHome;
    mina.src = "home-cat.png";
  }

  else if(id === "menu"){
    bubble.innerText = langData[currentLang].bubbleMenu;
    mina.src = "menu-cat.png";
  }

  else if(id === "save1" || id === "save2" || id === "save3"){
    bubble.innerText = langData[currentLang].bubbleSavings;
    mina.src = "saving-cat.png";
  }

  else if(id === "debts"){
    bubble.innerText = langData[currentLang].bubbleDebts;
    mina.src = "debts-cat.png";
  }

  else if(id === "planner"){
    bubble.innerText = langData[currentLang].bubblePlanner;
    mina.src = "planner-cat.png";
  }

  // animasi muncul ulang
  bubble.style.animation = "none";
  bubble.offsetHeight;
  bubble.style.animation = "bubbleFade 0.35s ease forwards";
}

/* THEME */
function theme(){
document.body.classList.toggle('dark')
}

/* SOUND */
function meow(){
    let a = new Audio('meow.mp3');
  a.play();
}

/* LANGUAGE */
function setLang(lang){
  currentLang = lang;
  localStorage.setItem("lang", lang);

  // HOME
  document.getElementById("homeTitle").innerText = langData[lang].homeTitle;
  document.getElementById("homeDesc").innerText = langData[lang].homeDesc;
  document.getElementById("startBtn").innerText = langData[lang].startBtn;

  // MENU
  document.getElementById("menuTitle").innerText = langData[lang].menuTitle;
  document.getElementById("menuSavings").innerText = langData[lang].savings;
  document.getElementById("menuSavingsSub").innerText = langData[lang].savingsSub;
  document.getElementById("menuDebts").innerText = langData[lang].debts;
  document.getElementById("menuDebtsSub").innerText = langData[lang].debtsSub;
  document.getElementById("menuPlanner").innerText = langData[lang].planner;
  document.getElementById("menuPlannerSub").innerText = langData[lang].plannerSub;

  // Bubble chat semua halaman aktif
  const pages = ['home','menu','save1','debts1','planner1'];
  const bubbleTexts = ['bubbleHome','bubbleMenu','bubbleSavings','bubbleDebts','bubblePlanner'];
  pages.forEach((p,i)=>{
    const el = document.querySelector(`#${p} .bubble`) || document.getElementById('bubble');
    if(el) el.innerText = langData[lang][bubbleTexts[i]];
  });

  // Input placeholders halaman create savings
  document.getElementById("title").placeholder = langData[lang].savingsTitle;
  document.getElementById("target").placeholder = langData[lang].targetAmount;
  document.getElementById("days").previousSibling.textContent = langData[lang].daysPerWeek;
  document.querySelector("#save1 button").innerText = langData[lang].createBtn;

  // Tombol tambah/ambil halaman save3
  document.querySelector("#save3 button:nth-child(1)").innerText = langData[lang].addSave;
  document.querySelector("#save3 button:nth-child(2)").innerText = langData[lang].addTake;

  // Total label
  document.querySelector("#save3 h3").childNodes[0].textContent = langData[lang].totalText + " ";
}

// Panggil saat load
setLang(currentLang);
/* FORMAT */
function format(n){
return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")
}

function parse(n){
return Number(n.replace(/\./g,""))||0
}

/* DATA */
let data=JSON.parse(localStorage.getItem("mina"))||[]
let current=null

/* CREATE */
function createSaving(){

let title=document.getElementById("title").value
let target=parse(document.getElementById("target").value)
let days=document.getElementById("days").value

let months=Math.ceil(target/(days*4*10000))

bubble.innerText="Target reached about "+months+" months ‚ú®"

data.push({title,target,total:0,history:[]})

save()
renderList()
show('save2')

}

/* SAVE */
function save(){
localStorage.setItem("mina",JSON.stringify(data))
}

/* LIST */
function renderList(){

list.innerHTML=""

data.forEach((d,i)=>{

list.innerHTML+=`
<div class="card" onclick="openSaving(${i})">
${d.title}
</div>
`

})

}

/* OPEN */
function openSaving(i){

current=i
stitle.innerText=data[i].title
renderTable()
show('save3')

}

/* ADD */
function add(isSave){

let val=parse(amount.value)

if(!val)return

let s=data[current]

let inc=isSave?val:0
let exp=isSave?0:val

s.total+=inc-exp

s.history.push({
date:new Date().toLocaleDateString(),
inc,
exp,
bal:s.total
})

save()
renderTable()

}

/* TABLE */
function renderTable(){

let s=data[current]

total.innerText=format(s.total)

let percent=Math.min((s.total/s.target)*100,100)
bar.style.width=percent+"%"

tbody.innerHTML=""

s.history.forEach(h=>{

tbody.innerHTML+=`
<tr>
<td>${h.date}</td>
<td>${format(h.inc)}</td>
<td>${format(h.exp)}</td>
<td>${format(h.bal)}</td>
</tr>
`

})

}

renderList();
show('home');
</script>

</body>
</html>








