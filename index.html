<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Mina's Finance Assistant</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>

/* ================= THEME ================= */

:root{
  --bg:#fdf6ff;
  --card:#ffffff;
  --text:#3a3a3a;

  --primary:#ffb6c9;
  --secondary:#cde7ff;
  --accent:#d7ffd9;

  --nav:#ffffffcc;
}

body.dark{
  --bg:#1e1e2f;
  --card:#2b2b3d;
  --text:#f1f1f1;

  --primary:#ff8ac2;
  --secondary:#6ca0ff;
  --accent:#5fd4a3;

  --nav:#2b2b3dcc;
}

body{
  margin:0;
  font-family:"Poppins",sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:0.4s;
}

/* LANGUAGE BUTTON */
.lang{
position:fixed;
top:10px;
left:10px;
z-index:999;
}

.lang button{
padding:5px 10px;
border-radius:10px;
border:none;
cursor:pointer;
margin-right:5px;
font-size:12px;
}

/* ================= PAGE ================= */

.page{
  display:none;
  min-height:100vh;
  padding:20px;
  text-align:center;
  animation:fade 0.4s;
}

.page.active{display:block;}

@keyframes fade{
  from{opacity:0; transform:translateY(20px)}
  to{opacity:1; transform:translateY(0)}
}

.center{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:80vh;
}

/* ================= CARD ================= */

.card{
  background:var(--card);
  padding:15px;
  border-radius:20px;
  margin:10px auto;
  max-width:500px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  border:2px solid var(--secondary);
}

/* ================= BUTTON ================= */

button{
  border:none;
  padding:10px 16px;
  border-radius:20px;
  cursor:pointer;
  margin:5px;
  font-weight:600;
  color:white;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
}

/* ================= INPUT ================= */

input,select{
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  margin:5px;
}

/* ================= NAVBAR ================= */

.nav{
  position:fixed;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  background:var(--nav);
  backdrop-filter:blur(12px);
  padding:12px 18px;
  border-radius:30px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  display:flex;
  gap:10px;
}

/* ================= ICON GRID ================= */

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:15px;
  max-width:600px;
  margin:auto;
}

.icon{
  background:var(--card);
  padding:20px;
  border-radius:20px;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
  border:2px solid var(--secondary);
}

/* ================= PROGRESS ================= */

.progress{
  height:20px;
  background:#ddd;
  border-radius:20px;
  overflow:hidden;
  margin-top:10px;
}

.bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--primary),var(--accent));
}

/* ================= TABLE ================= */

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  border:1px solid #ccc;
  padding:6px;
  font-size:14px;
}

/* ================= MINA PET ================= */

.mina{
  position:fixed;
  right:20px;
  bottom:120px;
  width:120px;
  cursor:pointer;
  animation:float 3s infinite;
}

@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
  100%{transform:translateY(0)}
}
/* ================= RESPONSIVE ================= */

@media(max-width:600px){

  .mina{
    width:90px;
    bottom:110px;
  }

  .bubble{
    right:110px;
  }

}

 /* ================= BUBBLE CHAT BARU ================= */
.chat-bubble{
    position: relative;
    background: var(--card); /* atau var(--bubble-color) */
    padding: 10px 14px;
    border-radius: 14px;
    font-size: 14px;
    max-width: 160px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
}

/* tonjolan ke arah kucing */
.chat-bubble::after{
    content: "";
    position: absolute;
    bottom: 8px;
    right: -6px;
    width: 14px;
    height: 14px;
    background: var(--card);
    border-radius: 50%;
}

/* bulatan kecil tambahan */
.chat-bubble::before{
    content: "";
    position: absolute;
    bottom: 3px;
    right: -14px;
    width: 8px;
    height: 8px;
    background: var(--card);
    border-radius: 50%;
}

.cat-container{
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    align-items: flex-end;
    gap: 3px;
    z-index: 999;
}
  
</style>
</head>
<body>

<!-- ================= CAT + BUBBLE CHAT ================= -->
<div class="cat-container">
    <img src="mina-cat.png" class="cat" onclick="meow()">
    <div class="chat-bubble" id="bubble">Hi, I'm Mina üê±</div>
</div>
  
<!-- LANGUAGE -->
<div class="lang">
<button onclick="setLang('id')">üáÆüá©</button>
<button onclick="setLang('en')">üá¨üáß</button>
</div>

<!-- HOME -->
<div id="home" class="page active">
<div class="center">
<h1>Mina's Finance Assistant üê±üí∞</h1>
<p id="homeText">Hi, I'm Mina! Your cute finance helper ‚ú®</p>
<button onclick="show('menu')" id="startBtn">Let's Start ‚ú®</button>
<button onclick="theme()">Theme</button>
</div>
</div>

<!-- MENU -->
<div id="menu" class="page">
<h2 id="menuTitle">Choose Menu</h2>

<div class="grid">

<div class="icon" onclick="show('save1')">
üí∞<br>Savings<br><small>Menabung</small>
</div>

<div class="icon" onclick="show('debts')">
üìí<br>Debts<br><small>Utang Piutang</small>
</div>

<div class="icon" onclick="show('planner')">
üìä<br>Money Planner<br><small>Perencana Uang</small>
</div>

</div>

</div>

<!-- DEBTS -->
<div id="debts" class="page">
<h2>Debts</h2>
<div class="card">Coming Soon ‚ú®</div>
</div>

<!-- PLANNER -->
<div id="planner" class="page">
<h2>Money Planner</h2>
<div class="card">Coming Soon ‚ú®</div>
</div>

<!-- CREATE SAVING -->
<div id="save1" class="page">
<h2>Create Savings</h2>

<div class="card">

<input id="title" placeholder="Savings title"><br>
<input id="target" placeholder="Target amount"><br>

Days per week:
<select id="days">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
</select><br>

<button onclick="createSaving()">Create</button>

</div>

</div>

<!-- LIST -->
<div id="save2" class="page">

<h2>Your Savings</h2>
<div id="list"></div>

</div>

<!-- DETAIL -->
<div id="save3" class="page">

<h2 id="stitle"></h2>

<div class="card">

<input id="amount" placeholder="Amount"><br>

<button onclick="add(true)">‚ûï Save</button>
<button onclick="add(false)">‚ûñ Take</button>

<h3>Total: Rp <span id="total">0</span></h3>

<div class="progress">
<div class="bar" id="bar"></div>
</div>

</div>

<div class="card">

<table>

<thead>
<tr>
<th>Date</th>
<th>Income</th>
<th>Expense</th>
<th>Balance</th>
</tr>
</thead>

<tbody id="tbody"></tbody>

</table>

</div>

</div>

<!-- NAV -->
<div class="nav">
<button onclick="show('home')">Home</button>
<button onclick="show('menu')">Menu</button>
</div>

<!-- MINA -->
<img src="mina-cat.png" class="mina" onclick="meow()">
<div class="bubble" id="bubble">Hi, I'm Mina üê±</div>

<script>

/* PAGE */
function show(id){
document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'))
document.getElementById(id).classList.add('active')
}

/* THEME */
function theme(){
document.body.classList.toggle('dark')
}

/* SOUND */
function meow(){
let a=new Audio('meow.mp3')
a.play()
}

/* LANGUAGE */
function setLang(lang){

localStorage.setItem("lang",lang)

if(lang=="id"){
menuTitle.innerText="Pilih Menu"
homeText.innerText="Hai, aku Mina! Asisten keuangan lucu kamu ‚ú®"
startBtn.innerText="Mulai ‚ú®"
}

if(lang=="en"){
menuTitle.innerText="Choose Menu"
homeText.innerText="Hi, I'm Mina! Your cute finance helper ‚ú®"
startBtn.innerText="Let's Start ‚ú®"
}

}

let savedLang=localStorage.getItem("lang")
if(savedLang)setLang(savedLang)

/* FORMAT */
function format(n){
return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")
}

function parse(n){
return Number(n.replace(/\./g,""))||0
}

/* DATA */
let data=JSON.parse(localStorage.getItem("mina"))||[]
let current=null

/* CREATE */
function createSaving(){

let title=document.getElementById("title").value
let target=parse(document.getElementById("target").value)
let days=document.getElementById("days").value

let months=Math.ceil(target/(days*4*10000))

bubble.innerText="Target reached about "+months+" months ‚ú®"

data.push({title,target,total:0,history:[]})

save()
renderList()
show('save2')

}

/* SAVE */
function save(){
localStorage.setItem("mina",JSON.stringify(data))
}

/* LIST */
function renderList(){

list.innerHTML=""

data.forEach((d,i)=>{

list.innerHTML+=`
<div class="card" onclick="openSaving(${i})">
${d.title}
</div>
`

})

}

/* OPEN */
function openSaving(i){

current=i
stitle.innerText=data[i].title
renderTable()
show('save3')

}

/* ADD */
function add(isSave){

let val=parse(amount.value)

if(!val)return

let s=data[current]

let inc=isSave?val:0
let exp=isSave?0:val

s.total+=inc-exp

s.history.push({
date:new Date().toLocaleDateString(),
inc,
exp,
bal:s.total
})

save()
renderTable()

}

/* TABLE */
function renderTable(){

let s=data[current]

total.innerText=format(s.total)

let percent=Math.min((s.total/s.target)*100,100)
bar.style.width=percent+"%"

tbody.innerHTML=""

s.history.forEach(h=>{

tbody.innerHTML+=`
<tr>
<td>${h.date}</td>
<td>${format(h.inc)}</td>
<td>${format(h.exp)}</td>
<td>${format(h.bal)}</td>
</tr>
`

})

}

renderList()

</script>

</body>
</html>



